{# src/_includes/partials/components/post-card.njk #}

<article class="post-card card-hover-effect">
  <a class="post-card__media" href="{{ post.url }}">
    {% if post.data.cover %}
      <img src="{{ post.data.cover | url }}" alt="" loading="lazy" decoding="async">
    {% endif %}
  </a>

  <div class="post-card__body">
    {% set catSlug = post.data.primaryCategory or (post.data.tags and post.data.tags[0]) %}
    {% if catSlug %}
      {% set catMap = {
        'math-education': 'Math Education',
        'data-science-modeling': 'Data Science & Modeling',
        'technology-ai': 'Technology & AI'
      } %}
      {% set catLabel = catMap[catSlug] or (catSlug | replace('-', ' ') | title) %}
      <span class="post-card__pill">{{ catLabel }}</span>
    {% endif %}

    <h3 class="post-card__title">
      <a href="{{ post.url }}">{{ post.data.title }}</a>
    </h3>

    {% if post.data.summary %}
      <p class="post-card__summary">{{ post.data.summary }}</p>
    {% endif %}

    <p class="post-card__meta">
      <time datetime="{{ post.date | w3DateFilter }}">{{ post.date | dateFilter }}</time>
    </p>
  </div>

  {# Add stretched link so whole card is clickable #}
  <a class="stretched-link" href="{{ post.url }}" aria-label="{{ post.data.title }}"></a>
</article>


